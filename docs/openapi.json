{
  "openapi": "3.0.3",
  "info": {
    "title": "Group 8",
    "version": "0.0.1"
  },
  "servers":[
    {
      "url": "http://localhost:8000",
      "description": "Development server"
    }
  ],
  "tags":[
    {
      "name": "Authentication"
    },
    {
      "name": "Common"
    }
  ],
  "paths": {
    "/v1/authentication/google/": {
      "post": {
        "summary": "Endpoint to get the JWT and refresh token",
        "tags": ["Authentication"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id_token": {
                    "type": "string",
                    "example": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImRlOTU1NmFkNDY4MDMxMmMxMTdhZmFlZjI5MjBmNWY5OWE0Yzc5ZmQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiIxMDEzMzUyMjQ2MTgwLWFqdXIxcTc0bXQ0MHNnNnI4MWZ1ZjhpdmllamwxdmpqLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiMTAxMzM1MjI0NjE4MC1hanVyMXE3NG10NDBzZzZyODFmdWY4aXZpZWpsMXZqai5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsInN1YiI6IjExMzc2OTcyMDM3NTI2MDkxMzk4NCIsImhkIjoidWMuY2wiLCJlbWFpbCI6Imp5aG9ybWF6YWJhbEB1Yy5jbCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJub25jZSI6IjAwMDM3NDUyNWRhZmI5OWZjMzQwYTFmM2VjYzU5MDExMzhjYzBkYWM4MDY2NjlhOGZjYzMwOTkwM2I1ZjEzOWIiLCJuYW1lIjoiSmVzc2ljYSBIb3JtYXphYmFsIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hLS9BT2gxNEdnaE52cWVJU2t0MGp3Ums0RTF1QXR5U2E4Z0dCRGRmVnJXckRMZV82QT1zOTYtYyIsImdpdmVuX25hbWUiOiJKZXNzaWNhIiwiZmFtaWx5X25hbWUiOiJIb3JtYXphYmFsIiwibG9jYWxlIjoiZXMiLCJpYXQiOjE2MTk0NjA1NzYsImV4cCI6MTYxOTQ2NDE3NiwianRpIjoiODcyYmM4ZmFhNWVlYWVjM2U4NmNiNjEyMDYyNjdjOGYxYmJiMjdmZSJ9.FsgLPKlsTyqeoY6vdzQob-T8d5U8nIf85aDwaiHvomfs_gL-Qg5ME7vUGqiEF1YRzccmiifCC-ifjhtxslOmh9WnG5AXWH-3aAcPkeyW1YGtO3aamGNxj9Kf_ty8iU3TSKr2MERs2f5Y65kSIhgNCN4eg9sY2O5K9QglUjVbor-TtN3b2wnQZJIUexIB3nSLhsN-s6yugLIRZJN1Mtt63SFS8Yx68mPF97Bs6ysmD2a0kDC0Q7fWafeZnCTicd4OoyZersRtGI9nXL115MHOxCucHsMNL7WYwb35NOgvSkZXxL9FVe-GBqiiTOcfr0jhwZAzWe5Rfb4XcSQO7YHGQQ"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/responses/tokens"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id_token": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "The token is invalid or expired. Please login again.",
                          "This field is required."
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/authentication/token/refresh/": {
      "post": {
        "summary": "Endpoint to refresh the access tokens",
        "tags": ["Authentication"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "refresh": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX3BrIjoxLCJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImNvbGRfc3R1ZmYiOiLimIMiLCJleHAiOjIzNDU2NywianRpIjoiZGUxMmY0ZTY3MDY4NDI3ODg5ZjE1YWMyNzcwZGEwNTEifQ.aEoAYkSJjoWH1boshQAaTkf8G3yn0kapko6HFRt7Rh4"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/responses/tokens"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id_token": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "This field is required."
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "string",
                      "enum": ["Token is invalid or expired"]
                    },
                    "code": {
                      "type": "string",
                      "enum": ["token_not_valid"]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/health-check/": {
      "get": {
        "summary": "Health check endpoint for the backend, checks for pending migrations",
        "tags": ["Common"],
        "responses": {
          "200": {
            "description": "OK"
          },
          "503": {
            "description": "Service Unavailable"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "JSONWebTokenAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "responses": {
      "tokens": {
        "type": "object",
        "properties": {
          "access": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX3BrIjoxLCJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiY29sZF9zdHVmZiI6IuKYgyIsImV4cCI6MTIzNTY3LCJqdGkiOiJjNzE4ZTVkNjgzZWQ0NTQyYTU0NWJkM2VmMGI0ZGQ0ZSJ9.ekxRxgb9OKmHkfy-zs1Ro_xs1eMLXiR17dIDBVxeT-w"
          },
          "refresh": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX3BrIjoxLCJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImNvbGRfc3R1ZmYiOiLimIMiLCJleHAiOjIzNDU2NywianRpIjoiZGUxMmY0ZTY3MDY4NDI3ODg5ZjE1YWMyNzcwZGEwNTEifQ.aEoAYkSJjoWH1boshQAaTkf8G3yn0kapko6HFRt7Rh4"
          }
        }
      }
    }
  }
}
